<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/index.css">
    <script src="./js/jquery-3.5.1.js"></script>
    <title>Shinhanna</title>
</head>
<body>
    <div class="back">
        <img src="./images/back.PNG" id="back">
        <p><strong>W E L C O M E</strong></p>
        <img src="./images/groom-removebg-preview.png" id="cloud1">
        <img src="./images/groom-removebg-preview.png" id="cloud2">
        
        <input class="input" type="text" name="user-email" id="email" placeholder="EMAIL@DOMAIN.COM" autofocus required>
        <br>
        <input class="input" type="password" name="user-pwd" id="pwd" placeholder="PASSWORD" required>
        <br>
        <button class="btn-login" type="submit" id="login">로그인</button>
        <br>
        <button class="btn-login" type="submit" id="signup" onclick="signUp();">회원가입</button>


        <img src="big2.png" id="sf2">
        <img src="smallf1.png" id="sf1">

        <script>
            $('#login').click(function(){
                let k = $('#email').val();
                let p = $('#pwd').val();
                let v = JSON.parse(localStorage.getItem(k));
                if(k==''|| p=='' ||v==null){
                    alert('아이디/비밀번호를 입력하세요');
                    return;
                }

                $(v).each(function(i,entry){
                    if(p==entry.pwd){
                        location.href='01_main.html';
                    }
                    else
                        alert('아이디/비밀번호를 다시 확인하세요'); 
                });
                
               
            });


            var obTimeOut;

            var ObjectArray = new Array ();

            ObjectArray[1] = "smallf1.png";

            ObjectArray[2] = "small2.png";

            ObjectArray[3] = "big2.png";

            ObjectArray[4] = "bigf1.png";

            var nObjectCnt = 0;	

            function ShowDefaultRotate() // 스스로 자신을 호출하는 재귀함수 (Recursive Function)
            {
                nObjectCnt++;

                if( nObjectCnt < 3)  // 배열의 갯수 이내일때만 실행
                {
                    document.getElementById("sf1").src = ObjectArray[nObjectCnt];		 
                    document.getElementById("sf2").src = ObjectArray[nObjectCnt+2];		 

                    obTimeOut = setTimeout("ShowDefaultRotate()",500);  // 0.5초후에 자기자신을 호출 


                }
                else
                {
                    nObjectCnt = 0;
                    obTimeOut = setTimeout("ShowDefaultRotate()",500);
                }		
            }
            function startAnimation()
            {
                obTimeOut = window.setTimeout(ShowDefaultRotate,100); // 윈도우 로드 후 0.1초 후에 반복함수를 호출합니다.
            }
            window.onload = startAnimation; // 윈도우 로드시 이미지 변환함수 실행

        </script>

    </div>
    <div class="road">
        <div class="lines">
        </div>
        <img class="mario" src="./images/mario.png">
    </div>

    <style>
        li{
            list-style: none;
        }
    </style>
    <script>
        function signUp(){
            childWindow = open("04_sign.html", "myPopup", "width=500, height=600, top=100, left=500")
        }
    </script>
</body>
</html>